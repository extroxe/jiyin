!function(n,e){var r=e(n);if("function"==typeof define&&define.amd)define("template",function(){return r});else if("object"==typeof exports)module.exports=r;else{var t=n.template;r.noConflict=function(){return n.template===r&&(n.template=t),r},n.template=r}}(this,function(){"use strict";function n(n){if(null===n)return"null";var e=typeof n;if("object"!==e)return e;var r=y.call(n).slice(8,-1).toLowerCase();return"object"!==r?r:n.constructor==Object?r:"unkonw"}function e(e){return"object"===n(e)}function r(e){return"function"===n(e)}function t(e){return"string"===n(e)}function o(){for(var n=arguments[0]||{},e=h.call(arguments,1),r=e.length,t=0;r>t;t++){var o=e[t];for(var u in o)n[u]=o[u]}return n}function u(){var n=h.call(arguments);return o.apply(null,[{}].concat(n))}function c(n){return n}function i(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(n){return n.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")}function _(n,e){"undefined"!=typeof console&&console[n]&&console[n](e)}function f(n){function e(){return"template.js error"}var r="template.js error\n\n";for(var t in n)r+="<"+t+">\n"+n[t]+"\n\n";return r+="<message>\n"+n.message+"\n\n",_("error",r),d.error(n),e.toString=function(){return'__code__ = "template.js error"'},e}function l(n,e){function r(n){return n=n.replace(/('|")/g,"\\$1").replace(/\n/g," "),';__code__ += ("'+n+'")\n'}function t(n){var e,r,t,o=/^(?:=|(:.*?)=)(.*)$/;return(r=o.exec(n))?(e=r[2],t=Boolean(r[1])?r[1].slice(1):i?"h":"",';__code__ += __modifierMap__["'+t+'"](typeof ('+e+') !== "undefined" ? ('+e+') : "")\n'):";"+n+"\n"}for(var o="",u=e.sTag,c=e.eTag,i=e.escape,a=n.split(u),_=0,f=a.length;f>_;_++){var l=a[_].split(c);1===l.length?o+=r(l[0]):(o+=t(l[0],!0),l[1]&&(o+=r(l[1])))}return o}function p(n,e){var r=l(n,e),t='\n    var html = (function (__data__, __modifierMap__) {\n        var __str__ = "", __code__ = "";\n        for(var key in __data__) {\n            __str__+=("var " + key + "=__data__[\'" + key + "\'];");\n        }\n        eval(__str__);\n\n',o="\n        ;return __code__;\n    }(__data__, __modifierMap__));\n    return html;\n",u=t+r+o;u=u.replace(/[\r]/g," ");try{var c=new Function("__data__","__modifierMap__",u);return c.toString=function(){return r},c}catch(i){throw i.temp="function anonymous(__data__, __modifierMap__) {"+u+"}",i}}function s(n,e){function r(r){r=u(m,r);try{var o=t(r,v);return o=e.compress?a(o):o}catch(c){return c.name="RenderError",c.tpl=n,c.render=t.toString(),f(c)()}}e=u(d,e);try{var t=p(n,e)}catch(o){return o.name="CompileError",o.tpl=n,o.render=o.temp,delete o.temp,f(o)}return r.toString=function(){return t.toString()},r}function g(n,r){if("string"!=typeof n)return"";var t=s(n);return e(r)?t(r):t}var d={sTag:"<%",eTag:"%>",compress:!1,escape:!0,error:function(){}},m={},v={"":function(n){return c(n)},h:function(n){return i(n)},u:function(n){return encodeURI(n)}},y={}.toString,h=[].slice;return g.config=function(n){return e(n)&&(d=o(d,n)),u(d)},g.registerFunction=function(n,e){return t(n)?r(e)?m[n]=e:m[n]:u(m)},g.unregisterFunction=function(n){return t(n)?(delete m[n],!0):!1},g.registerModifier=function(n,e){return t(n)?r(e)?v[n]=e:v[n]:u(v)},g.unregisterModifier=function(n){return t(n)?(delete v[n],!0):!1},g.__encodeHTML=i,g.__compress=a,g.__handelError=f,g.__compile=s,g.version="0.7.1",g});