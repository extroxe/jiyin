app.controller("evaluateCtrl",["$scope","_jiyin","dataToURL","$stateParams",function(t,a,i,e){t.evaluateList={},t.inputPage=1,t.url="",console.log(e),"com"==e.type?(t.flag=!0,e.specification_id&&""!=e.specification_id?(t.specification_eva=!0,t.url="admin/commodity_admin/evaluation_paginate/"+t.inputPage+"/10/"+e.commodity_id+"/"+e.specification_id):(t.url="admin/commodity_admin/evaluation_paginate/"+t.inputPage+"/10/"+e.commodity_id,t.specification_eva=!1)):"int"==e.type&&(t.flag=!1,e.specification_id&&""!=e.specification_id?(t.specification_eva=!0,t.url="admin/commodity_admin/evaluation_paginate/"+t.inputPage+"/10/"+e.commodity_id+"/"+e.specification_id):(t.url="admin/commodity_admin/evaluation_paginate/"+t.inputPage+"/10/"+e.commodity_id,t.specification_eva=!1)),t.goBack=function(){history.go(-1)},t.getData=function(){a.dataGet(t.url).then(function(i){i.success?(t.totalPage=i.total_page===!1?1:i.total_page,t.evaluateList=i.data):a.msg("e",i.msg)})},t.getData(),t.review_evaluate=function(i){t.title="回复评论",a.modal({tempUrl:"/source/admin/tpl/modal/modal-replyEvaluation.html",tempCtrl:"modalReplyContentCtrl",ok:t.reply,size:"lg",params:{title:t.title,id:i,ael:"add"}})},t.reply=function(e){a.dataPost("/admin/Commodity_admin/review_evaluation",i(e)).then(function(i){i.success?(a.msg("s",i.msg),t.getData()):a.msg("e",i.msg)})},t.delete_evaluate=function(e){confirm("确定删除这条评论吗？")&&a.dataPost("/admin/Commodity_admin/delete_evaluation",i({id:e})).then(function(i){i.success?(a.msg("s",i.msg),t.getData()):a.msg("e",i.msg)})},t.nextPage=function(){t.inputPage<t.totalPage?(t.inputPage++,t.getData()):a.msg("e","当前是最后一页")},t.previousPage=function(){t.inputPage>1?(t.inputPage--,t.getData()):a.msg("e","当前是第一页")},t.firstPage=function(){t.inputPage=1,t.getData()},t.lastPage=function(){t.inputPage=t.totalPage,t.getData()},t.selectPage=function(a){t.inputPage=a,t.getData()}}]);